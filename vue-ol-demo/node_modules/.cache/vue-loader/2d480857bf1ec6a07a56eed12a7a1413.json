{"remainingRequest":"/home/agou-ops/tmp/vue-ol-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agou-ops/tmp/vue-ol-demo/src/components/Location.vue?vue&type=style&index=0&id=32c219b8&scoped=true&lang=css&","dependencies":[{"path":"/home/agou-ops/tmp/vue-ol-demo/src/components/Location.vue","mtime":1619667343741},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvY2F0aW9uIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogMjAwOwogIHdpZHRoOiAzMDBweDsKICBoZWlnaHQ6IDEwMHB4OwogIHRvcDogMTUwcHg7CiAgbGVmdDogNDAlOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJveC1zaGFkb3c6IDJweCAzcHggNXB4ICM4ODg7Cn0K"},{"version":3,"sources":["Location.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Location.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"location\">\n    <label>输入经纬度：</label>\n    <input v-model=\"position\" />\n    <button @click=\"locate\">定位</button>\n  </div>\n</template>\n\n<script>\nimport { fromLonLat } from \"ol/proj\";\nimport Feature from \"ol/Feature\";\nimport Point from \"ol/geom/Point\";\nimport VectorSource from \"ol/source/Vector\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport Style from \"ol/style/Style\";\nimport Icon from \"ol/style/Icon\";\n\nimport { getLayersById } from \"../shared/utils\";\n\nexport default {\n  name: \"Location\",\n  props: {},\n  data: function() {\n    return { position: \"\", marker: null };\n  },\n  methods: {\n    locate: function() {\n      if (!this.position.trim()) {\n        alert(\"请输入经纬度\");\n        return;\n      }\n\n      const lonlat = this.position.split(\",\");\n      // console.log(lonlat);\n      const map = window.map;\n      map.removeLayer(getLayersById(\"location_marker\"));\n      var view = map.getView();\n      var wh = fromLonLat(lonlat);\n      view.setCenter(wh);\n      const vectorSource = new VectorSource({});\n      this.marker = new Feature({\n        type: \"icon\",\n        geometry: new Point(wh)\n      });\n      vectorSource.addFeature(this.marker);\n      const iconStyle = new Style({\n        image: new Icon({\n          opacity: 0.75,\n          src:\n            \"http://a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png\"\n        })\n      });\n      const vectorLayer = new VectorLayer({\n        id: \"location_marker\",\n        source: vectorSource,\n        style: iconStyle\n      });\n      //添加进map层\n      map.addLayer(vectorLayer);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.location {\n  position: absolute;\n  z-index: 200;\n  width: 300px;\n  height: 100px;\n  top: 150px;\n  left: 40%;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 2px 3px 5px #888;\n}\n</style>\n"]}]}