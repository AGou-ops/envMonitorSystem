{"remainingRequest":"/home/agou-ops/tmp/vue-ol-demo/node_modules/thread-loader/dist/cjs.js!/home/agou-ops/tmp/vue-ol-demo/node_modules/babel-loader/lib/index.js!/home/agou-ops/tmp/vue-ol-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/agou-ops/tmp/vue-ol-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/agou-ops/tmp/vue-ol-demo/src/components/Location.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/agou-ops/tmp/vue-ol-demo/src/components/Location.vue","mtime":1619667343741},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/agou-ops/tmp/vue-ol-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZyb21Mb25MYXQgfSBmcm9tICJvbC9wcm9qIjsKaW1wb3J0IEZlYXR1cmUgZnJvbSAib2wvRmVhdHVyZSI7CmltcG9ydCBQb2ludCBmcm9tICJvbC9nZW9tL1BvaW50IjsKaW1wb3J0IFZlY3RvclNvdXJjZSBmcm9tICJvbC9zb3VyY2UvVmVjdG9yIjsKaW1wb3J0IFZlY3RvckxheWVyIGZyb20gIm9sL2xheWVyL1ZlY3RvciI7CmltcG9ydCBTdHlsZSBmcm9tICJvbC9zdHlsZS9TdHlsZSI7CmltcG9ydCBJY29uIGZyb20gIm9sL3N0eWxlL0ljb24iOwppbXBvcnQgeyBnZXRMYXllcnNCeUlkIH0gZnJvbSAiLi4vc2hhcmVkL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2NhdGlvbiIsCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb3NpdGlvbjogIiIsCiAgICAgIG1hcmtlcjogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvY2F0ZTogZnVuY3Rpb24gbG9jYXRlKCkgewogICAgICBpZiAoIXRoaXMucG9zaXRpb24udHJpbSgpKSB7CiAgICAgICAgYWxlcnQoIuivt+i+k+WFpee7j+e6rOW6piIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGxvbmxhdCA9IHRoaXMucG9zaXRpb24uc3BsaXQoIiwiKTsgLy8gY29uc29sZS5sb2cobG9ubGF0KTsKCiAgICAgIHZhciBtYXAgPSB3aW5kb3cubWFwOwogICAgICBtYXAucmVtb3ZlTGF5ZXIoZ2V0TGF5ZXJzQnlJZCgibG9jYXRpb25fbWFya2VyIikpOwogICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7CiAgICAgIHZhciB3aCA9IGZyb21Mb25MYXQobG9ubGF0KTsKICAgICAgdmlldy5zZXRDZW50ZXIod2gpOwogICAgICB2YXIgdmVjdG9yU291cmNlID0gbmV3IFZlY3RvclNvdXJjZSh7fSk7CiAgICAgIHRoaXMubWFya2VyID0gbmV3IEZlYXR1cmUoewogICAgICAgIHR5cGU6ICJpY29uIiwKICAgICAgICBnZW9tZXRyeTogbmV3IFBvaW50KHdoKQogICAgICB9KTsKICAgICAgdmVjdG9yU291cmNlLmFkZEZlYXR1cmUodGhpcy5tYXJrZXIpOwogICAgICB2YXIgaWNvblN0eWxlID0gbmV3IFN0eWxlKHsKICAgICAgICBpbWFnZTogbmV3IEljb24oewogICAgICAgICAgb3BhY2l0eTogMC43NSwKICAgICAgICAgIHNyYzogImh0dHA6Ly9hLmFtYXAuY29tL2pzYXBpX2RlbW9zL3N0YXRpYy9kZW1vLWNlbnRlci9pY29ucy9wb2ktbWFya2VyLWRlZmF1bHQucG5nIgogICAgICAgIH0pCiAgICAgIH0pOwogICAgICB2YXIgdmVjdG9yTGF5ZXIgPSBuZXcgVmVjdG9yTGF5ZXIoewogICAgICAgIGlkOiAibG9jYXRpb25fbWFya2VyIiwKICAgICAgICBzb3VyY2U6IHZlY3RvclNvdXJjZSwKICAgICAgICBzdHlsZTogaWNvblN0eWxlCiAgICAgIH0pOyAvL+a3u+WKoOi/m21hcOWxggoKICAgICAgbWFwLmFkZExheWVyKHZlY3RvckxheWVyKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Location.vue"],"names":[],"mappings":";;;;;;;;;;;;AASA,SAAA,UAAA,QAAA,SAAA;AACA,OAAA,OAAA,MAAA,YAAA;AACA,OAAA,KAAA,MAAA,eAAA;AACA,OAAA,YAAA,MAAA,kBAAA;AACA,OAAA,WAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,gBAAA;AACA,OAAA,IAAA,MAAA,eAAA;AAEA,SAAA,aAAA,QAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,EAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AAAA,MAAA,QAAA,EAAA,EAAA;AAAA,MAAA,MAAA,EAAA;AAAA,KAAA;AACA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,UAAA,CAAA,KAAA,QAAA,CAAA,IAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA;AACA;;AAEA,UAAA,MAAA,GAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CANA,CAOA;;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,GAAA;AACA,MAAA,GAAA,CAAA,WAAA,CAAA,aAAA,CAAA,iBAAA,CAAA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,EAAA,GAAA,UAAA,CAAA,MAAA,CAAA;AACA,MAAA,IAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,YAAA,GAAA,IAAA,YAAA,CAAA,EAAA,CAAA;AACA,WAAA,MAAA,GAAA,IAAA,OAAA,CAAA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,QAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AAFA,OAAA,CAAA;AAIA,MAAA,YAAA,CAAA,UAAA,CAAA,KAAA,MAAA;AACA,UAAA,SAAA,GAAA,IAAA,KAAA,CAAA;AACA,QAAA,KAAA,EAAA,IAAA,IAAA,CAAA;AACA,UAAA,OAAA,EAAA,IADA;AAEA,UAAA,GAAA,EACA;AAHA,SAAA;AADA,OAAA,CAAA;AAOA,UAAA,WAAA,GAAA,IAAA,WAAA,CAAA;AACA,QAAA,EAAA,EAAA,iBADA;AAEA,QAAA,MAAA,EAAA,YAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,CAAA,CA1BA,CA+BA;;AACA,MAAA,GAAA,CAAA,QAAA,CAAA,WAAA;AACA;AAlCA;AANA,CAAA","sourcesContent":["<template>\n  <div class=\"location\">\n    <label>输入经纬度：</label>\n    <input v-model=\"position\" />\n    <button @click=\"locate\">定位</button>\n  </div>\n</template>\n\n<script>\nimport { fromLonLat } from \"ol/proj\";\nimport Feature from \"ol/Feature\";\nimport Point from \"ol/geom/Point\";\nimport VectorSource from \"ol/source/Vector\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport Style from \"ol/style/Style\";\nimport Icon from \"ol/style/Icon\";\n\nimport { getLayersById } from \"../shared/utils\";\n\nexport default {\n  name: \"Location\",\n  props: {},\n  data: function() {\n    return { position: \"\", marker: null };\n  },\n  methods: {\n    locate: function() {\n      if (!this.position.trim()) {\n        alert(\"请输入经纬度\");\n        return;\n      }\n\n      const lonlat = this.position.split(\",\");\n      // console.log(lonlat);\n      const map = window.map;\n      map.removeLayer(getLayersById(\"location_marker\"));\n      var view = map.getView();\n      var wh = fromLonLat(lonlat);\n      view.setCenter(wh);\n      const vectorSource = new VectorSource({});\n      this.marker = new Feature({\n        type: \"icon\",\n        geometry: new Point(wh)\n      });\n      vectorSource.addFeature(this.marker);\n      const iconStyle = new Style({\n        image: new Icon({\n          opacity: 0.75,\n          src:\n            \"http://a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png\"\n        })\n      });\n      const vectorLayer = new VectorLayer({\n        id: \"location_marker\",\n        source: vectorSource,\n        style: iconStyle\n      });\n      //添加进map层\n      map.addLayer(vectorLayer);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.location {\n  position: absolute;\n  z-index: 200;\n  width: 300px;\n  height: 100px;\n  top: 150px;\n  left: 40%;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 2px 3px 5px #888;\n}\n</style>\n"],"sourceRoot":"src/components"}]}